(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{436:function(a,s,e){"use strict";e.r(s);var t=e(14),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"docker-部署-spring-boot-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署-spring-boot-项目"}},[a._v("#")]),a._v(" Docker 部署 Spring Boot 项目")]),a._v(" "),s("h2",{attrs:{id:"一、编写-dockerfile-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、编写-dockerfile-文件"}},[a._v("#")]),a._v(" 一、编写 Dockerfile 文件")]),a._v(" "),s("p",[s("code",[a._v("Dockerfile")]),a._v(" 是构建镜像的文本文件。\n"),s("code",[a._v("FROM")]),a._v("选择 "),s("code",[a._v("jdk")]),a._v(" 版本。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("FROM openjdk:8\n\nCOPY *.jar /app.jar\n\nENTRYPOINT "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"java"')]),a._v(","),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-jar"')]),a._v(","),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/app.jar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h2",{attrs:{id:"二、将-dockerfile-和-jar-包都传到-linux-服务器上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、将-dockerfile-和-jar-包都传到-linux-服务器上"}},[a._v("#")]),a._v(" 二、将 Dockerfile 和 jar 包都传到 Linux 服务器上")]),a._v(" "),s("p",[a._v("在当前目录下构建 "),s("code",[a._v("docker")]),a._v("镜像，镜像名称为 "),s("code",[a._v("yunhu_library_image")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" build "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" yunhu_library_image "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("  \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"三、创建新的容器并运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、创建新的容器并运行"}},[a._v("#")]),a._v(" 三、创建新的容器并运行")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v(":8090 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"yunhu-library-container"')]),a._v(" yunhu_library_image\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[s("code",[a._v("-d")]),a._v("表示后台运行")]),a._v(" "),s("li",[s("code",[a._v("-p")]),a._v("指定端口映射，宿主机端口:容器端口")]),a._v(" "),s("li",[s("code",[a._v("--name")]),a._v(" 指定容器名称")])]),a._v(" "),s("h2",{attrs:{id:"四、常用-docker-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、常用-docker-命令"}},[a._v("#")]),a._v(" 四、常用 Docker 命令")]),a._v(" "),s("h3",{attrs:{id:"_4-1-查看已经安装的镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-查看已经安装的镜像"}},[a._v("#")]),a._v(" 4.1 查看已经安装的镜像")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-2-删除镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-删除镜像"}},[a._v("#")]),a._v(" 4.2 删除镜像")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" rmi IMAGE ID "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# IMAGE ID 镜像 id")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-3-查看正在运行的容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-查看正在运行的容器"}},[a._v("#")]),a._v(" 4.3 查看正在运行的容器")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-4-查看所有容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-查看所有容器"}},[a._v("#")]),a._v(" 4.4 查看所有容器")]),a._v(" "),s("p",[a._v("查看所有，包括已经停止的。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-5-停止-docker-容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-停止-docker-容器"}},[a._v("#")]),a._v(" 4.5 停止 docker 容器")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" CONTAINER ID "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 容器 id")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-6-删除-docker-容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-删除-docker-容器"}},[a._v("#")]),a._v(" 4.6 删除 docker 容器")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" CONTAINER ID \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-7-使用当前目录的-dockerfile-构建一个-docker-镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-使用当前目录的-dockerfile-构建一个-docker-镜像"}},[a._v("#")]),a._v(" 4.7 使用当前目录的 Dockerfile 构建一个 docker 镜像")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" build "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" image_name "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("  \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-8-创建容器并后台运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-创建容器并后台运行"}},[a._v("#")]),a._v(" 4.8 创建容器并后台运行")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" port:port "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"container_name"')]),a._v(" image_name\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-9-查看镜像、容器、数据卷所占用的空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-查看镜像、容器、数据卷所占用的空间"}},[a._v("#")]),a._v(" 4.9 查看镜像、容器、数据卷所占用的空间")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" system "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("df")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-10-查看容器的日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-查看容器的日志"}},[a._v("#")]),a._v(" 4.10 查看容器的日志")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" logs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--tail")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("container_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("code",[a._v("-f")]),a._v(" 跟踪日志输出")]),a._v(" "),s("p",[s("code",[a._v("-t")]),a._v(" 显示时间戳")]),a._v(" "),s("p",[s("code",[a._v("--tail = n")]),a._v(" 列出最后面的 "),s("code",[a._v("n")]),a._v(" 条数据")]),a._v(" "),s("h3",{attrs:{id:"_4-11-进入-docker-容器的-shell-环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-11-进入-docker-容器的-shell-环境"}},[a._v("#")]),a._v(" 4.11 进入 docker 容器的 shell 环境")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("container_id_or_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /bin/bash \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("code",[a._v("-i")]),a._v(" 表示保持标准输入流（stdin）打开，允许你与容器交互。")]),a._v(" "),s("p",[s("code",[a._v("-t")]),a._v(" 分配一个伪终端（pseudo-TTY），以便在容器内部的 shell 中能够使用交互式终端功能，如清屏、颜色等。")])])}),[],!1,null,null,null);s.default=r.exports}}]);