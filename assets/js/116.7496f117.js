(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{440:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vue3-项目部署到-linux-服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3-项目部署到-linux-服务器"}},[s._v("#")]),s._v(" Vue3 项目部署到 Linux 服务器")]),s._v(" "),a("h2",{attrs:{id:"一、安装-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装-nginx"}},[s._v("#")]),s._v(" 一、安装 nginx")]),s._v(" "),a("h3",{attrs:{id:"_1-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-安装"}},[s._v("#")]),s._v(" 1.1 安装")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_1-2-查看-nginx-版本-观察是否安装成功。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-查看-nginx-版本-观察是否安装成功。"}},[s._v("#")]),s._v(" 1.2 查看 "),a("code",[s._v("nginx")]),s._v(" 版本，观察是否安装成功。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_1-3-启动-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-启动-nginx"}},[s._v("#")]),s._v(" 1.3 启动 nginx")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这时候访问服务器公网 "),a("code",[s._v("IP")]),s._v("，就可以看到")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b6d1718ee0547bc9dc3e5b680ba2a86~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"二、查看-nginx-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、查看-nginx-配置"}},[s._v("#")]),s._v(" 二、查看 nginx 配置")]),s._v(" "),a("p",[a("code",[s._v("nginx")]),s._v(" 配置路径")]),s._v(" "),a("blockquote",[a("p",[s._v("/etc/nginx/sites-available/default")])]),s._v(" "),a("p",[a("code",[s._v("cat")]),s._v(" 查看发现根页面的地址是在 "),a("code",[s._v("/var/www/html")]),s._v("。")]),s._v(" "),a("p",[s._v("因此只要把 "),a("code",[s._v("Vue3")]),s._v(" 项目打包后的 "),a("code",[s._v("dist")]),s._v(" 目录中的所有文件放入到 "),a("code",[s._v("/var/www/html")]),s._v(" 即可。")]),s._v(" "),a("h2",{attrs:{id:"三、vue3-添加-push-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、vue3-添加-push-命令"}},[s._v("#")]),s._v(" 三、Vue3 添加 push 命令")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("package.json")]),s._v("的 "),a("code",[s._v("scripts")]),s._v("中添加以下配置：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"push"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run build && scp -r dist/* root@43.142.56.47:/var/www/html"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("配置解释：")]),s._v(" "),a("p",[a("code",[s._v("npm run build")]),s._v("是将 "),a("code",[s._v("Vue")]),s._v(" 项目打包，生成 "),a("code",[s._v("dist")]),s._v(" 目录及文件。")]),s._v(" "),a("p",[a("code",[s._v('scp -r dist/* root@43.142.56.47:/var/www/html"')])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("scp")]),s._v(" 命令用于复制文件和目录。")]),s._v(" "),a("li",[a("code",[s._v("-r")]),s._v(" 表示递归复制整个目录")]),s._v(" "),a("li",[a("code",[s._v("dist/*")]),s._v("复制的文件")]),s._v(" "),a("li",[a("code",[s._v('root@43.142.56.47:/var/www/html"')]),s._v("服务器用户名+服务器 "),a("code",[s._v("ip")]),s._v(" 地址 + 文件的目标目录")])]),s._v(" "),a("p",[s._v("最后 "),a("code",[s._v("npm run push")]),s._v("然后输入 "),a("code",[s._v("root")]),s._v(" 密码即可。")]),s._v(" "),a("h2",{attrs:{id:"三、自定义-dist-目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、自定义-dist-目录"}},[s._v("#")]),s._v(" 三、自定义 dist 目录")]),s._v(" "),a("p",[s._v("有时候我们并不想把项目放到 "),a("code",[s._v("/var/www/html")]),s._v(" 下，可以放在任意目录下。")]),s._v(" "),a("h3",{attrs:{id:"_3-1-修改-package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-修改-package-json"}},[s._v("#")]),s._v(" 3.1 修改 package.json")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"push"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run build && scp -r dist/* root@43.142.56.47:/root/path"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这边在 "),a("code",[s._v("ip")]),s._v(" 后，自定义自己想要在服务器中存放 "),a("code",[s._v("dist")]),s._v(" 的目录。")]),s._v(" "),a("p",[s._v("之后会将 "),a("code",[s._v("dist")]),s._v(" 目录下的文件传到 "),a("code",[s._v("/root/path")]),s._v("下。")]),s._v(" "),a("h3",{attrs:{id:"_3-2-配置-nginx-conf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-配置-nginx-conf"}},[s._v("#")]),s._v(" 3.2 配置 nginx.conf")]),s._v(" "),a("p",[s._v("之前 "),a("code",[s._v("/var/www/html")]),s._v(" 是 "),a("code",[s._v("nginx")]),s._v(" 默认配好在 "),a("code",[s._v("80")]),s._v(" 端口，现在我们把 "),a("code",[s._v("dist")]),s._v(" 下的文件放入别的路径，因此要在 "),a("code",[s._v("nginx.conf")]),s._v(" 配置关联关系。")]),s._v(" "),a("ul",[a("li",[s._v("进入 nginx 目录")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("编辑 "),a("code",[s._v("nginx.conf")]),s._v(" 配置文件")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" nginx.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("添加关联")])]),s._v(" "),a("div",{staticClass:"language-conf line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n  listen 9000;\n  location / {\n    root /root/vue-project/yunhu-utils/dist;\n    index index.html index.htm; \n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("我这边的路径是 "),a("code",[s._v("/root/vue-project/yunhu-utils/dist")]),s._v("，然后端口绑定到 "),a("code",[s._v("9000")]),s._v("。")]),s._v(" "),a("p",[s._v("之后访问域名加 "),a("code",[s._v("9000")]),s._v(" 端口号即可。")])])}),[],!1,null,null,null);a.default=n.exports}}]);